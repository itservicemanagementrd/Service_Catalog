{
  "version": 3,
  "sources": ["../app.js"],
  "sourcesContent": ["/**\n * ITSM Service Catalog - Core Application Logic\n * Architecture: Vanilla JS Class-based\n */\n\n// --- UTILS ---\nconst uuid = () => Date.now().toString(36) + Math.random().toString(36).substr(2);\n\n// --- DEFAULTS ---\nconst DEFAULT_SETTINGS = {\n    criticalities: [\"Alta\", \"Media\", \"Baja\", \"Cr\u00EDtica\", \"Extrema\"],\n    statuses: [\"En Desarrollo\", \"Activo\", \"Inactivo\", \"Retirado\"],\n    ci_types: [\"Servidor\", \"Aplicaci\u00F3n\", \"Red\", \"Base de Datos\", \"Hardware\"],\n    ci_statuses: [\"Operativo\", \"En Mantenimiento\", \"Fuera de Servicio\"],\n    request_types: [\"Solicitud de Servicio\", \"Info\", \"Acceso\"],\n    assignment_groups: [\"Mesa de Ayuda\", \"Infraestructura\", \"Desarrollo\", \"Seguridad\"],\n    contacts: [\"Admin\", \"Soporte\", \"Gerente IT\"]\n};\n\n// --- SCHEMAS (Data Models) ---\n// Now a function to get dynamic options from store\nconst getSchemas = (store) => {\n    const s = store.getSettings();\n    return {\n        services: {\n            label: \"Servicio de Negocio\",\n            icon: \"\uD83D\uDCBC\",\n            fields: [\n                { name: \"name\", label: \"Nombre del Servicio\", type: \"text\", required: true },\n                { name: \"description\", label: \"Descripci\u00F3n\", type: \"textarea\", required: true },\n                { name: \"owner\", label: \"Propietario (Service Owner)\", type: \"select\", options: s.contacts, required: true },\n                { name: \"manager\", label: \"Gestor (Service Manager)\", type: \"select\", options: s.contacts },\n                { name: \"criticality\", label: \"Criticidad\", type: \"select\", options: s.criticalities, required: true },\n                { name: \"availability\", label: \"Horario Disponibilidad\", type: \"text\", placeholder: \"Ej. 24/7, Lun-Vie 9-6\" },\n                { name: \"sla_response\", label: \"SLA Respuesta (Horas)\", type: \"number\" },\n                { name: \"cost\", label: \"Costo Mensual ($)\", type: \"number\" },\n                { name: \"status\", label: \"Estado\", type: \"select\", options: s.statuses, required: true },\n                { name: \"customers\", label: \"Clientes/Usuarios\", type: \"text\" }\n            ],\n            relations: [\n                { name: \"linked_cis\", label: \"CIs Relacionados\", target: \"components\", multiple: true },\n                { name: \"linked_requests\", label: \"Peticiones Asociadas\", target: \"requests\", multiple: true }\n            ]\n        },\n        components: {\n            label: \"Componente (CI)\",\n            icon: \"\uD83E\uDDE9\",\n            fields: [\n                { name: \"name\", label: \"Nombre del CI\", type: \"text\", required: true },\n                { name: \"type\", label: \"Tipo de CI\", type: \"select\", options: s.ci_types, required: true },\n                { name: \"status\", label: \"Estado\", type: \"select\", options: s.ci_statuses, required: true },\n                { name: \"tech_owner\", label: \"Propietario T\u00E9cnico\", type: \"select\", options: s.contacts },\n                { name: \"location\", label: \"Ubicaci\u00F3n F\u00EDsica/L\u00F3gica\", type: \"text\" },\n                { name: \"version\", label: \"Versi\u00F3n/Modelo\", type: \"text\" }\n            ],\n            relations: [\n                { name: \"parent_service\", label: \"Servicio Padre\", target: \"services\", multiple: false }\n            ]\n        },\n        requests: {\n            label: \"Cat\u00E1logo de Peticiones\",\n            icon: \"\uD83D\uDCCB\",\n            fields: [\n                { name: \"name\", label: \"Nombre Solicitud\", type: \"text\", required: true },\n                { name: \"type\", label: \"Tipo\", type: \"select\", options: s.request_types, required: true },\n                { name: \"category\", label: \"Categor\u00EDa\", type: \"text\" },\n                { name: \"tat\", label: \"Tiempo Cumplimiento (D\u00EDas)\", type: \"number\" },\n                { name: \"approvals\", label: \"Aprobaciones Requeridas\", type: \"select\", options: [\"Ninguna\", \"Manager\", \"Owner\", \"Director\"] },\n                { name: \"cost\", label: \"Costo ($)\", type: \"number\" }\n            ],\n            relations: [\n                { name: \"related_service\", label: \"Servicio Asociado\", target: \"services\", multiple: false }\n            ]\n        },\n        technical: {\n            label: \"Informaci\u00F3n T\u00E9cnica\",\n            icon: \"\uD83D\uDD27\",\n            fields: [\n                { name: \"category\", label: \"Categor\u00EDa Incidente\", type: \"text\", required: true },\n                { name: \"subcategory\", label: \"Subcategor\u00EDa\", type: \"text\" },\n                { name: \"L1_group\", label: \"Grupo Asignaci\u00F3n L1\", type: \"select\", options: s.assignment_groups, required: true },\n                { name: \"L2_group\", label: \"Grupo Asignaci\u00F3n L2\", type: \"select\", options: s.assignment_groups },\n                { name: \"escalation\", label: \"Procedimiento Escalado\", type: \"textarea\" },\n                { name: \"priority\", label: \"Prioridad T\u00E9cnica\", type: \"select\", options: [\"P1\", \"P2\", \"P3\", \"P4\"] },\n                { name: \"kb_articles\", label: \"Art\u00EDculos KB Relacionados\", type: \"textarea\" }\n            ],\n            relations: [\n                { name: \"related_service_tech\", label: \"Aplica al Servicio\", target: \"services\", multiple: true }\n            ]\n        }\n    };\n};\n\n// --- DATA STORE MANAGER ---\nclass ITSMStore {\n    constructor() {\n        this.STORAGE_KEY = \"ITSM_CATALOG_DATA_V1\";\n        this.data = this.load();\n    }\n\n    getEmptyState() {\n        return {\n            services: [],\n            components: [],\n            requests: [],\n            technical: [],\n            settings: JSON.parse(JSON.stringify(DEFAULT_SETTINGS))\n        };\n    }\n\n    load() {\n        const stored = localStorage.getItem(this.STORAGE_KEY);\n        if (stored) {\n            const parsed = JSON.parse(stored);\n            // Ensure settings exist if migration from older version\n            if (!parsed.settings) {\n                parsed.settings = JSON.parse(JSON.stringify(DEFAULT_SETTINGS));\n            }\n            return parsed;\n        }\n        return this.getEmptyState();\n    }\n\n    save() {\n        localStorage.setItem(this.STORAGE_KEY, JSON.stringify(this.data));\n    }\n\n    getSettings() {\n        return this.data.settings;\n    }\n\n    updateSettingList(key, list) {\n        if (this.data.settings[key]) {\n            this.data.settings[key] = list;\n            this.save();\n        }\n    }\n\n    add(collection, item) {\n        item.id = uuid();\n        item.createdAt = new Date().toISOString();\n        this.data[collection].push(item);\n        this.save();\n        return item;\n    }\n\n    update(collection, id, updates) {\n        const index = this.data[collection].findIndex(i => i.id === id);\n        if (index > -1) {\n            this.data[collection][index] = { ...this.data[collection][index], ...updates };\n            this.save();\n            return true;\n        }\n        return false;\n    }\n\n    delete(collection, id) {\n        this.data[collection] = this.data[collection].filter(i => i.id !== id);\n        this.save();\n    }\n\n    get(collection, id) {\n        return this.data[collection].find(i => i.id === id);\n    }\n\n    getAll(collection) {\n        return this.data[collection] || [];\n    }\n\n    importData(jsonData) {\n        try {\n            const parsed = JSON.parse(jsonData);\n            if (parsed.services && Array.isArray(parsed.services)) {\n                // Ensure settings exist on import\n                if (!parsed.settings) {\n                    parsed.settings = JSON.parse(JSON.stringify(DEFAULT_SETTINGS));\n                }\n                this.data = parsed;\n                this.save();\n                return true;\n            }\n            return false;\n        } catch (e) {\n            console.error(\"Import failed\", e);\n            return false;\n        }\n    }\n}\n\n// --- UI RENDERER ---\nclass UI {\n    constructor(store, eventBus) {\n        this.store = store;\n        this.events = eventBus;\n        this.container = document.getElementById('view-container');\n        this.modal = document.getElementById('modal-overlay');\n        this.form = document.getElementById('dynamic-form');\n        this.modalTitle = document.getElementById('modal-title');\n    }\n\n    showToast(msg, type = 'info') {\n        const container = document.getElementById('toast-container');\n        const toast = document.createElement('div');\n        toast.className = `toast ${type}`;\n        toast.innerHTML = `<span>${type === 'success' ? '\u2714' : '\u2139'}</span> ${msg}`;\n        container.appendChild(toast);\n        setTimeout(() => toast.remove(), 3000);\n    }\n\n    renderSettings() {\n        this.container.innerHTML = '';\n        const settings = this.store.getSettings();\n        const grid = document.createElement('div');\n        grid.className = 'data-grid';\n\n        const mapLabels = {\n            criticalities: \"Niveles de Criticidad\",\n            statuses: \"Estados de Servicio\",\n            ci_types: \"Tipos de CI\",\n            ci_statuses: \"Estados de CI\",\n            request_types: \"Tipos de Solicitud\",\n            assignment_groups: \"Grupos de Asignaci\u00F3n\",\n            contacts: \"Contactos / Personas\"\n        };\n\n        Object.keys(settings).forEach(key => {\n            const card = document.createElement('div');\n            card.className = 'card';\n\n            const listHtml = settings[key].map((item, idx) =>\n                `<div style=\"display:flex; justify-content:space-between; padding:4px 0; border-bottom:1px solid #334155;\">\n                    <span>${item}</span>\n                    <button class=\"small-btn danger-btn remove-setting\" data-key=\"${key}\" data-idx=\"${idx}\" style=\"padding:2px 6px;\">\u00D7</button>\n                 </div>`\n            ).join('');\n\n            card.innerHTML = `\n                <div class=\"card-header\">\n                    <div class=\"card-title\">${mapLabels[key] || key}</div>\n                </div>\n                <div class=\"card-body\" style=\"max-height: 200px; overflow-y: auto;\">\n                    ${listHtml}\n                </div>\n                <div class=\"card-actions\" style=\"display:flex; gap:5px;\">\n                    <input type=\"text\" id=\"new-${key}\" placeholder=\"Nuevo valor...\" style=\"flex:1; padding:5px; border-radius:4px; border:1px solid #334155; background:#0f172a; color:white;\">\n                    <button class=\"primary-btn small-btn add-setting\" data-key=\"${key}\">+</button>\n                </div>\n            `;\n\n            // Bind Add Event\n            card.querySelector('.add-setting').addEventListener('click', (e) => {\n                const input = document.getElementById(`new-${key}`);\n                const val = input.value.trim();\n                console.log(val);\n                if (val) {\n                    this.events.emit('setting-add', { key, value: val });\n                }\n            });\n\n            // Bind Remove Events\n            card.querySelectorAll('.remove-setting').forEach(btn => {\n                btn.addEventListener('click', (e) => {\n                    const idx = parseInt(e.target.dataset.idx);\n                    this.events.emit('setting-remove', { key, idx });\n                });\n            });\n\n            grid.appendChild(card);\n        });\n\n        this.container.appendChild(grid);\n    }\n\n    renderCard(schema, item, collection) {\n        // Build card HTML\n        const statusClass = item.status ? `status-${item.status.toLowerCase().replace(' ', '-')}` : '';\n        const badge = item.status ? `<span class=\"status-badge ${statusClass}\">${item.status}</span>` : '';\n        // Visual cue for inactive\n        const cardStyle = item.status === 'Inactivo' ? 'opacity: 0.6; border: 1px dashed #475569;' : '';\n\n        let metaHtml = '';\n        schema.fields.slice(1, 4).forEach(field => {\n            if (item[field.name]) {\n                const val = typeof item[field.name] === 'object' ? '...' : item[field.name];\n                metaHtml += `\n                    <div class=\"field-group\">\n                        <span class=\"field-label\">${field.label}</span>\n                        <div class=\"field-value\">${val}</div>\n                    </div>\n                `;\n            }\n        });\n\n        let relationsHtml = '';\n        if (schema.relations) {\n            schema.relations.forEach(rel => {\n                const relatedIds = item[rel.name];\n                if (relatedIds && (Array.isArray(relatedIds) ? relatedIds.length > 0 : relatedIds)) {\n                    const count = Array.isArray(relatedIds) ? relatedIds.length : 1;\n                    relationsHtml += `<span style=\"font-size:0.75rem; background:rgba(255,255,255,0.1); padding:2px 6px; border-radius:4px; margin-right:4px;\">${rel.label}: ${count}</span>`;\n                }\n            });\n        }\n\n        const card = document.createElement('div');\n        card.className = 'card';\n        card.style = cardStyle;\n\n        // Conditional buttons based on collection/status\n        let actionButtons = `\n            <button class=\"card-action-btn view\" data-id=\"${item.id}\" data-collection=\"${collection}\">\uD83D\uDC41 Visualizar</button>\n            <button class=\"card-action-btn edit\" data-id=\"${item.id}\" data-collection=\"${collection}\">\u270E Editar</button>\n        `;\n\n        if (item.status !== 'Inactivo' && item.status !== 'Retirado') {\n            actionButtons += `<button class=\"card-action-btn danger deactivate\" data-id=\"${item.id}\" data-collection=\"${collection}\">\uD83D\uDEAB Inactivar</button>`;\n        } else {\n            actionButtons += `<button class=\"card-action-btn delete\" data-id=\"${item.id}\" data-collection=\"${collection}\">\uD83D\uDDD1 Eliminar</button>`;\n        }\n\n        card.innerHTML = `\n            <div class=\"card-header\">\n                <div class=\"card-title\">${item.name || item.category || 'Sin Nombre'}</div>\n                ${badge}\n            </div>\n            <div class=\"card-body\">\n                ${metaHtml}\n                <div style=\"margin-top:0.5rem\">${relationsHtml}</div>\n            </div>\n            <div class=\"card-actions\">\n                ${actionButtons}\n            </div>\n        `;\n\n        card.querySelector('.view').addEventListener('click', () => this.events.emit('view', { collection, id: item.id }));\n        card.querySelector('.edit').addEventListener('click', () => this.events.emit('edit', { collection, id: item.id }));\n\n        const deactivateBtn = card.querySelector('.deactivate');\n        if (deactivateBtn) {\n            deactivateBtn.addEventListener('click', () => {\n                if (confirm('\u00BFInactivar este registro?')) {\n                    this.events.emit('deactivate', { collection, id: item.id });\n                }\n            });\n        }\n\n        const deleteBtn = card.querySelector('.delete');\n        if (deleteBtn) {\n            deleteBtn.addEventListener('click', () => {\n                if (confirm('\u00BFEliminar permanentemente?')) {\n                    this.events.emit('delete', { collection, id: item.id });\n                }\n            });\n        }\n\n        return card;\n    }\n\n    renderGrid(collection, filterText = '') {\n        this.container.innerHTML = '';\n        const items = this.store.getAll(collection);\n        // Important: Get Dynamic Schemas\n        const schemas = getSchemas(this.store);\n        const schema = schemas[collection];\n\n        const grid = document.createElement('div');\n        grid.className = 'data-grid';\n\n        const filtered = items.filter(item => {\n            const searchStr = JSON.stringify(item).toLowerCase();\n            return searchStr.includes(filterText.toLowerCase());\n        });\n\n        if (filtered.length === 0) {\n            this.container.innerHTML = `<div class=\"empty-state\" style=\"text-align:center; padding:3rem; color: #64748b;\">\n                <h3>No hay registros</h3>\n                <p>Crea un nuevo ${schema.label} para comenzar.</p>\n            </div>`;\n            return;\n        }\n\n        filtered.forEach(item => {\n            grid.appendChild(this.renderCard(schema, item, collection));\n        });\n\n        this.container.appendChild(grid);\n    }\n\n    openModal(collection, itemId = null) {\n        // Important: Get Dynamic Schemas\n        const schemas = getSchemas(this.store);\n        const schema = schemas[collection];\n        const item = itemId ? this.store.get(collection, itemId) : {};\n\n        this.modalTitle.textContent = itemId ? `Editar ${schema.label}` : `Crear ${schema.label}`;\n        this.form.innerHTML = '';\n        this.form.dataset.collection = collection;\n        this.form.dataset.itemId = itemId || '';\n\n        schema.fields.forEach(field => {\n            const wrapper = document.createElement('div');\n            wrapper.className = 'form-group';\n\n            const label = document.createElement('label');\n            label.textContent = field.label;\n            wrapper.appendChild(label);\n\n            let input;\n            const value = item[field.name] || '';\n\n            if (field.type === 'textarea') {\n                input = document.createElement('textarea');\n                input.rows = 3;\n            } else if (field.type === 'select') {\n                input = document.createElement('select');\n                field.options.forEach(opt => {\n                    const option = document.createElement('option');\n                    option.value = opt;\n                    option.textContent = opt;\n                    if (value === opt) option.selected = true;\n                    input.appendChild(option);\n                });\n            } else {\n                input = document.createElement('input');\n                input.type = field.type;\n            }\n\n            input.name = field.name;\n            if (field.required) input.required = true;\n            if (value && field.type !== 'select') input.value = value;\n            if (field.placeholder) input.placeholder = field.placeholder;\n\n            wrapper.appendChild(input);\n            this.form.appendChild(wrapper);\n        });\n\n        if (schema.relations) {\n            schema.relations.forEach(rel => {\n                const wrapper = document.createElement('div');\n                wrapper.className = 'form-group';\n                wrapper.innerHTML = `<label>${rel.label}</label>`;\n\n                const select = document.createElement('select');\n                select.name = rel.name;\n                if (rel.multiple) select.multiple = true;\n                select.style.height = rel.multiple ? '100px' : 'auto';\n\n                const targets = this.store.getAll(rel.target);\n\n                if (!rel.multiple) {\n                    const defaultOpt = document.createElement('option');\n                    defaultOpt.value = \"\";\n                    defaultOpt.textContent = \"-- Seleccionar --\";\n                    select.appendChild(defaultOpt);\n                }\n\n                targets.forEach(t => {\n                    const opt = document.createElement('option');\n                    opt.value = t.id;\n                    opt.textContent = t.name || t.category || 'Unnamed';\n\n                    const savedVal = item[rel.name];\n                    if (rel.multiple) {\n                        if (savedVal && savedVal.includes(t.id)) opt.selected = true;\n                    } else {\n                        if (savedVal === t.id) opt.selected = true;\n                    }\n\n                    select.appendChild(opt);\n                });\n\n                wrapper.appendChild(select);\n                this.form.appendChild(wrapper);\n            });\n        }\n\n        // Remove read-only attributes if present (reset)\n        this.form.querySelectorAll('input, select, textarea').forEach(el => el.disabled = false);\n        // Show footer listeners\n        document.querySelector('.modal-footer').style.display = 'flex';\n\n        this.modal.classList.remove('hidden');\n    }\n\n    openViewModal(collection, itemId) {\n        // Reuse openModal but disable everything\n        this.openModal(collection, itemId);\n        this.modalTitle.textContent = `Visualizar Detalle`;\n        this.form.querySelectorAll('input, select, textarea').forEach(el => el.disabled = true);\n        // Hide standard save buttons\n        document.querySelector('.modal-footer').style.display = 'none';\n    }\n\n    closeModal() {\n        this.modal.classList.add('hidden');\n        this.form.reset();\n        document.querySelector('.modal-footer').style.display = 'flex'; // Reset visibility\n    }\n}\n\n// --- APP CONTROLLER ---\nclass ITSMApp {\n    constructor() {\n        this.store = new ITSMStore();\n        this.currentView = 'services';\n\n        this.events = {\n            listeners: {},\n            on(event, callback) {\n                if (!this.listeners[event]) this.listeners[event] = [];\n                this.listeners[event].push(callback);\n            },\n            emit(event, data) {\n                if (this.listeners[event]) this.listeners[event].forEach(cb => cb(data));\n            }\n        };\n\n        this.ui = new UI(this.store, this.events);\n        this.init();\n    }\n\n    init() {\n        this.bindEvents();\n        this.switchView('services');\n        console.log(\"ITSM App Initialized\");\n    }\n\n    bindEvents() {\n        document.querySelectorAll('.nav-btn').forEach(btn => {\n            btn.addEventListener('click', (e) => {\n                const view = e.currentTarget.dataset.view;\n                this.switchView(view);\n            });\n        });\n\n        document.getElementById('btn-create').addEventListener('click', () => {\n            this.ui.openModal(this.currentView);\n        });\n\n        document.getElementById('global-search').addEventListener('input', (e) => {\n            if (this.currentView === 'settings') return;\n            this.ui.renderGrid(this.currentView, e.target.value);\n        });\n\n        document.getElementById('btn-close-modal').addEventListener('click', () => this.ui.closeModal());\n        document.getElementById('btn-cancel-modal').addEventListener('click', () => this.ui.closeModal());\n\n        document.getElementById('dynamic-form').addEventListener('submit', (e) => {\n            e.preventDefault();\n            this.handleFormSubmit(e.target);\n        });\n\n        this.events.on('edit', (data) => {\n            this.ui.openModal(data.collection, data.id);\n        });\n\n        this.events.on('view', (data) => {\n            this.ui.openViewModal(data.collection, data.id);\n        });\n\n        this.events.on('deactivate', (data) => {\n            this.store.update(data.collection, data.id, { status: 'Inactivo' });\n            this.ui.showToast('Registro inactivado', 'info');\n            this.refresh();\n        });\n\n        this.events.on('delete', (data) => {\n            this.store.delete(data.collection, data.id);\n            this.ui.showToast('Registro eliminado', 'success');\n            this.refresh();\n        });\n\n        // Settings Events\n        this.events.on('setting-add', ({ key, value }) => {\n            const list = this.store.getSettings()[key];\n            if (!list.includes(value)) {\n                list.push(value);\n                this.store.updateSettingList(key, list);\n                this.ui.renderSettings();\n                this.ui.showToast('Opci\u00F3n agregada', 'success');\n            }\n        });\n\n        this.events.on('setting-remove', ({ key, idx }) => {\n            const list = this.store.getSettings()[key];\n            list.splice(idx, 1);\n            this.store.updateSettingList(key, list);\n            this.ui.renderSettings();\n        });\n\n        document.getElementById('btn-reset').addEventListener('click', () => {\n            if (confirm('ATENCI\u00D3N: Esto borrar\u00E1 todos los datos. \u00BFEst\u00E1s seguro?')) {\n                localStorage.removeItem(this.store.STORAGE_KEY);\n                location.reload();\n            }\n        });\n\n        document.getElementById('btn-export').addEventListener('click', () => {\n            const dataStr = JSON.stringify(this.store.data, null, 2);\n            const blob = new Blob([dataStr], { type: \"application/json\" });\n            const url = URL.createObjectURL(blob);\n            const a = document.createElement('a');\n            a.href = url;\n            a.download = `itsm-backup-${new Date().toISOString().slice(0, 10)}.json`;\n            a.click();\n        });\n\n        document.getElementById('file-import').addEventListener('change', (e) => {\n            const file = e.target.files[0];\n            if (!file) return;\n            const reader = new FileReader();\n            reader.onload = (event) => {\n                if (this.store.importData(event.target.result)) {\n                    this.ui.showToast('Datos importados correctamente', 'success');\n                    location.reload(); // Reload to refresh schemas\n                } else {\n                    this.ui.showToast('Error al importar datos', 'error');\n                }\n            };\n            reader.readAsText(file);\n        });\n    }\n\n    switchView(viewName) {\n        this.currentView = viewName;\n\n        document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));\n        document.querySelector(`[data-view=\"${viewName}\"]`).classList.add('active');\n\n        if (viewName === 'settings') {\n            document.getElementById('page-title').textContent = \"Configuraci\u00F3n del Sistema\";\n            document.getElementById('btn-create').style.display = 'none';\n            document.getElementById('global-search').style.display = 'none';\n            this.ui.renderSettings();\n        } else {\n            // Restore standard view elements\n            const schemas = getSchemas(this.store);\n            if (schemas[viewName]) {\n                document.getElementById('page-title').textContent = schemas[viewName].label;\n            }\n            document.getElementById('btn-create').style.display = 'block';\n            document.getElementById('global-search').style.display = 'block';\n            this.refresh();\n        }\n    }\n\n    refresh() {\n        if (this.currentView !== 'settings') {\n            this.ui.renderGrid(this.currentView, document.getElementById('global-search').value);\n        }\n    }\n\n    handleFormSubmit(form) {\n        const formData = new FormData(form);\n        const data = Object.fromEntries(formData.entries());\n\n        const schemas = getSchemas(this.store);\n        const schema = schemas[this.currentView];\n\n        if (schema.relations) {\n            schema.relations.forEach(rel => {\n                if (rel.multiple) {\n                    const select = form.querySelector(`select[name=\"${rel.name}\"]`);\n                    const values = Array.from(select.selectedOptions).map(opt => opt.value);\n                    data[rel.name] = values;\n                }\n            });\n        }\n\n        const id = form.dataset.itemId;\n\n        if (id) {\n            this.store.update(this.currentView, id, data);\n            this.ui.showToast('Registro actualizado', 'success');\n        } else {\n            this.store.add(this.currentView, data);\n            this.ui.showToast('Registro creado', 'success');\n        }\n\n        this.ui.closeModal();\n        this.refresh();\n    }\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    window.app = new ITSMApp();\n});\n"],
  "mappings": "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",
  "names": ["require_app", "__commonJSMin", "uuid", "DEFAULT_SETTINGS", "getSchemas", "store", "s", "ITSMStore", "stored", "parsed", "key", "list", "collection", "item", "id", "updates", "index", "i", "__spreadValues", "jsonData", "e", "UI", "eventBus", "msg", "type", "container", "toast", "settings", "grid", "mapLabels", "card", "listHtml", "idx", "val", "btn", "schema", "statusClass", "badge", "cardStyle", "metaHtml", "field", "relationsHtml", "rel", "relatedIds", "count", "actionButtons", "deactivateBtn", "deleteBtn", "filterText", "items", "filtered", "itemId", "wrapper", "label", "input", "value", "opt", "option", "select", "targets", "defaultOpt", "t", "savedVal", "el", "ITSMApp", "event", "callback", "data", "cb", "view", "dataStr", "blob", "url", "file", "reader", "viewName", "schemas", "form", "formData", "values"]
}
